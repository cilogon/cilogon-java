<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.28) on Mon Oct 27 12:29:50 CDT 2025 -->
<title>DBService2 (Cilogon parent module 6.2.3 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-10-27">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DBService2 (Cilogon parent module 6.2.3 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DBService2.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.cilogon.proxy.servlet</a></div>
<h2 title="Class DBService2" class="title">Class DBService2</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>javax.servlet.GenericServlet</li>
<li>
<ul class="inheritance">
<li>javax.servlet.http.HttpServlet</li>
<li>
<ul class="inheritance">
<li>edu.uiuc.ncsa.security.servlet.AbstractServlet</li>
<li>
<ul class="inheritance">
<li>org.oa4mp.server.api.storage.servlet.EnvServlet</li>
<li>
<ul class="inheritance">
<li>org.oa4mp.server.api.storage.servlet.OA4MPServlet</li>
<li>
<ul class="inheritance">
<li><a href="../../oauth2/servlet/servlet/AbstractDBService.html" title="class in org.cilogon.oauth2.servlet.servlet">org.cilogon.oauth2.servlet.servlet.AbstractDBService</a></li>
<li>
<ul class="inheritance">
<li>org.cilogon.proxy.servlet.DBService2</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>edu.uiuc.ncsa.security.core.Logable</code>, <code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html?is-external=true" title="class or interface in java.io" class="externalLink">Serializable</a></code>, <code>javax.servlet.Servlet</code>, <code>javax.servlet.ServletConfig</code>, <code>org.oa4mp.delegation.common.servlet.TransactionFilter</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">DBService2</span>
extends <a href="../../oauth2/servlet/servlet/AbstractDBService.html" title="class in org.cilogon.oauth2.servlet.servlet">AbstractDBService</a></pre>
<div class="block"><p>Created by Jeff Gaynor<br>
 on 1/22/15 at  12:15 PM</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../serialized-form.html#org.cilogon.proxy.servlet.DBService2">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CHECK_CODE_APPROVED">CHECK_CODE_APPROVED</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CHECK_CODE_APPROVED_CASE">CHECK_CODE_APPROVED_CASE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CHECK_USER_CODE">CHECK_USER_CODE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CHECK_USER_CODE_CASE">CHECK_USER_CODE_CASE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#USER_CODE_APPROVED_PARAMETER">USER_CODE_APPROVED_PARAMETER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#USER_CODE_PARAMETER">USER_CODE_PARAMETER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.cilogon.oauth2.servlet.servlet.AbstractDBService">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.cilogon.oauth2.servlet.servlet.<a href="../../oauth2/servlet/servlet/AbstractDBService.html" title="class in org.cilogon.oauth2.servlet.servlet">AbstractDBService</a></h3>
<code><a href="../../oauth2/servlet/servlet/AbstractDBService.html#ACTION_PARAMETER">ACTION_PARAMETER</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#AFFILIATION">AFFILIATION</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#ATTR_JSON">ATTR_JSON</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#clientApprovalKeys">clientApprovalKeys</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#clientKeys">clientKeys</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#CREATE_TRANSACTION_STATE">CREATE_TRANSACTION_STATE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#CREATE_TRANSACTION_STATE_CASE">CREATE_TRANSACTION_STATE_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#CREATE_USER">CREATE_USER</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#CREATE_USER_CASE">CREATE_USER_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#DISPLAY_NAME">DISPLAY_NAME</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#distinguishedNameField">distinguishedNameField</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#GET_ALL_IDPS">GET_ALL_IDPS</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#GET_ALL_IDPS_CASE">GET_ALL_IDPS_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#GET_CLIENT">GET_CLIENT</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#GET_CLIENT_CASE">GET_CLIENT_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#GET_LAST_ARCHIVED_USER">GET_LAST_ARCHIVED_USER</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#GET_LAST_ARCHIVED_USER_CASE">GET_LAST_ARCHIVED_USER_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#GET_PORTAL_PARAMETER">GET_PORTAL_PARAMETER</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#GET_PORTAL_PARAMETER_CASE">GET_PORTAL_PARAMETER_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#GET_TWO_FACTOR_INFO">GET_TWO_FACTOR_INFO</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#GET_TWO_FACTOR_INFO_CASE">GET_TWO_FACTOR_INFO_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#GET_USER">GET_USER</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#GET_USER_CASE">GET_USER_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#GET_USER_ID">GET_USER_ID</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#GET_USER_ID_CASE">GET_USER_ID_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#HAS_USER">HAS_USER</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#HAS_USER_CASE">HAS_USER_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#idpKeys">idpKeys</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#OU">OU</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#REGISTERED_BY_INCOMMON">REGISTERED_BY_INCOMMON</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#REMOVE_USER">REMOVE_USER</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#REMOVE_USER_CASE">REMOVE_USER_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#serializer">serializer</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#SET_ALL_IDPS">SET_ALL_IDPS</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#SET_ALL_IDPS_CASE">SET_ALL_IDPS_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#SET_TRANSACTION_STATE">SET_TRANSACTION_STATE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#SET_TRANSACTION_STATE_CASE">SET_TRANSACTION_STATE_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#SET_TWO_FACTOR_INFO">SET_TWO_FACTOR_INFO</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#SET_TWO_FACTOR_INFO_CASE">SET_TWO_FACTOR_INFO_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#STATUS_CREATE_TRANSACTION_FAILED">STATUS_CREATE_TRANSACTION_FAILED</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#STATUS_EXPIRED_TOKEN">STATUS_EXPIRED_TOKEN</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#STATUS_KEY">STATUS_KEY</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#STATUS_MALFORMED_SCOPE">STATUS_MALFORMED_SCOPE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#STATUS_MISSING_CLIENT_ID">STATUS_MISSING_CLIENT_ID</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#STATUS_NO_CLIENT_FOUND">STATUS_NO_CLIENT_FOUND</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#STATUS_NO_SCOPES">STATUS_NO_SCOPES</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#STATUS_QDL_ERROR">STATUS_QDL_ERROR</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#STATUS_QDL_RUNTIME_ERROR">STATUS_QDL_RUNTIME_ERROR</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#STATUS_SERVICE_UNAVAILABLE">STATUS_SERVICE_UNAVAILABLE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#STATUS_TRANSACTION_NOT_FOUND">STATUS_TRANSACTION_NOT_FOUND</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#STATUS_UNAPPROVED_CLIENT">STATUS_UNAPPROVED_CLIENT</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#STATUS_UNKNOWN_CLIENT">STATUS_UNKNOWN_CLIENT</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#tfKeys">tfKeys</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#UNRECOGNIZED_CASE">UNRECOGNIZED_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#UPDATE_USER">UPDATE_USER</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#UPDATE_USER_CASE">UPDATE_USER_CASE</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#userKeys">userKeys</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.oa4mp.server.api.storage.servlet.OA4MPServlet">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.oa4mp.server.api.storage.servlet.OA4MPServlet</h3>
<code>caThread, kpt, lastAccessedThread, transactionCleanup</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.oa4mp.server.api.storage.servlet.EnvServlet">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.oa4mp.server.api.storage.servlet.EnvServlet</h3>
<code>ERROR_NOTIFICATION_BODY_KEY, ERROR_NOTIFICATION_SUBJECT_KEY, notificationListeners, storeUpdatesDone</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.edu.uiuc.ncsa.security.servlet.AbstractServlet">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;edu.uiuc.ncsa.security.servlet.AbstractServlet</h3>
<code>environment, initialization, IP_HEADERS, PING_PARAMETER</code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">DBService2</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkUserCode(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">checkUserCode</a></span>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;request,
             javax.servlet.http.HttpServletResponse&nbsp;response)</code></th>
<td class="colLast">
<div class="block">Taken from <a href="https://jira.ncsa.illinois.edu/browse/CIL-934">CIL-934</a>
 action: checkUserCode
 param: user_code (required, but can be empty)</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createTransaction(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">createTransaction</a></span>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;req,
                 javax.servlet.http.HttpServletResponse&nbsp;resp)</code></th>
<td class="colLast">
<div class="block">This accepts the following parameters</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doAction(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.lang.String)">doAction</a></span>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;request,
        javax.servlet.http.HttpServletResponse&nbsp;response,
        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;action)</code></th>
<td class="colLast">
<div class="block">Override this to add more actions.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doError(java.lang.String,int,javax.servlet.http.HttpServletResponse)">doError</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;message,
       int&nbsp;errorCode,
       javax.servlet.http.HttpServletResponse&nbsp;resp)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doUserClaims(org.cilogon.oauth2.servlet.loader.CILogonOA2ServiceEnvironment,org.cilogon.oauth2.servlet.storage.transaction.CILOA2ServiceTransaction,javax.servlet.http.HttpServletRequest,edu.uiuc.ncsa.security.core.util.MetaDebugUtil)">doUserClaims</a></span>&#8203;(<a href="../../oauth2/servlet/loader/CILogonOA2ServiceEnvironment.html" title="class in org.cilogon.oauth2.servlet.loader">CILogonOA2ServiceEnvironment</a>&nbsp;env,
            <a href="../../oauth2/servlet/storage/transaction/CILOA2ServiceTransaction.html" title="class in org.cilogon.oauth2.servlet.storage.transaction">CILOA2ServiceTransaction</a>&nbsp;t,
            javax.servlet.http.HttpServletRequest&nbsp;request,
            edu.uiuc.ncsa.security.core.util.MetaDebugUtil&nbsp;debugger)</code></th>
<td class="colLast">
<div class="block">Runs the user claims to populate the transaction.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getClient(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">getClient</a></span>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;req,
         javax.servlet.http.HttpServletResponse&nbsp;resp)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#init(javax.servlet.ServletConfig)">init</a></span>&#8203;(javax.servlet.ServletConfig&nbsp;config)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lookupCase(java.lang.String)">lookupCase</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;x)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setTransactionState(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">setTransactionState</a></span>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;req,
                   javax.servlet.http.HttpServletResponse&nbsp;resp)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#userCodeApproved(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">userCodeApproved</a></span>&#8203;(javax.servlet.http.HttpServletRequest&nbsp;request,
                javax.servlet.http.HttpServletResponse&nbsp;response)</code></th>
<td class="colLast">
<div class="block">action: userCodeApproved
 param(s):</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeClient(org.oa4mp.server.loader.oauth2.storage.clients.OA2Client,int,javax.servlet.http.HttpServletResponse)">writeClient</a></span>&#8203;(org.oa4mp.server.loader.oauth2.storage.clients.OA2Client&nbsp;client,
           int&nbsp;statusCode,
           javax.servlet.http.HttpServletResponse&nbsp;response)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeMessage(javax.servlet.http.HttpServletResponse,org.cilogon.oauth2.servlet.impl.Err)">writeMessage</a></span>&#8203;(javax.servlet.http.HttpServletResponse&nbsp;response,
            <a href="../../oauth2/servlet/impl/Err.html" title="class in org.cilogon.oauth2.servlet.impl">Err</a>&nbsp;errResponse)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeTransaction(org.oa4mp.server.loader.oauth2.storage.transactions.OA2ServiceTransaction,int,javax.servlet.http.HttpServletResponse)">writeTransaction</a></span>&#8203;(org.oa4mp.server.loader.oauth2.storage.transactions.OA2ServiceTransaction&nbsp;oa2ServiceTransaction,
                int&nbsp;status,
                javax.servlet.http.HttpServletResponse&nbsp;response)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#writeTransaction(org.oa4mp.server.loader.oauth2.storage.transactions.OA2ServiceTransaction,org.cilogon.oauth2.servlet.impl.Err,javax.servlet.http.HttpServletResponse)">writeTransaction</a></span>&#8203;(org.oa4mp.server.loader.oauth2.storage.transactions.OA2ServiceTransaction&nbsp;oa2ServiceTransaction,
                <a href="../../oauth2/servlet/impl/Err.html" title="class in org.cilogon.oauth2.servlet.impl">Err</a>&nbsp;errResponse,
                javax.servlet.http.HttpServletResponse&nbsp;response)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.cilogon.oauth2.servlet.servlet.AbstractDBService">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.cilogon.oauth2.servlet.servlet.<a href="../../oauth2/servlet/servlet/AbstractDBService.html" title="class in org.cilogon.oauth2.servlet.servlet">AbstractDBService</a></h3>
<code><a href="../../oauth2/servlet/servlet/AbstractDBService.html#checkAndArchiveUser(javax.servlet.http.HttpServletResponse,org.cilogon.oauth2.servlet.storage.user.UserMultiID,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.Boolean,java.lang.String)">checkAndArchiveUser</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#checkEquals(java.lang.String,java.lang.String)">checkEquals</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#createUser(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">createUser</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#doIt(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">doIt</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#findUser(org.cilogon.oauth2.servlet.storage.user.UserMultiID,java.lang.String)">findUser</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#getAllIdps(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">getAllIdps</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#getLastArchivedUser(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">getLastArchivedUser</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#getParam(javax.servlet.http.HttpServletRequest,java.lang.String)">getParam</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#getParam(javax.servlet.http.HttpServletRequest,java.lang.String,boolean)">getParam</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#getPortalParameter(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">getPortalParameter</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#getUser(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">getUser</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#getUserbyUID(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.lang.String)">getUserbyUID</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#getUserID(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">getUserID</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#getUserNoIDP(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.cilogon.oauth2.servlet.storage.user.UserMultiID)">getUserNoIDP</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#getUserWithIDP(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,org.cilogon.oauth2.servlet.storage.user.UserMultiID,java.lang.String)">getUserWithIDP</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#hasUser(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">hasUser</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#init()">init</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#isEmpty(java.lang.String)">isEmpty</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#OLDfindUser(org.cilogon.oauth2.servlet.storage.user.UserMultiID,java.lang.String)">OLDfindUser</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#parseUseUSinDNString(java.lang.String)">parseUseUSinDNString</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#setAllIdps(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">setAllIdps</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#setStatusOK(javax.servlet.http.HttpServletResponse)">setStatusOK</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#startWrite(javax.servlet.http.HttpServletResponse)">startWrite</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#stopWrite(javax.servlet.http.HttpServletResponse)">stopWrite</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#updateUser(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">updateUser</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#updateUserfromProperties(org.cilogon.oauth2.servlet.storage.user.User,org.cilogon.oauth2.servlet.servlet.AbstractDBService.UserProperties)">updateUserfromProperties</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#userLogic(org.cilogon.oauth2.servlet.storage.user.User,org.cilogon.oauth2.servlet.storage.user.UserMultiID)">userLogic</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#verifyAndGet(org.oa4mp.delegation.server.request.IssuerResponse)">verifyAndGet</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#write2FInfo(org.cilogon.oauth2.servlet.storage.twofactor.TwoFactorInfo,int,javax.servlet.http.HttpServletResponse)">write2FInfo</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#writeMessage(javax.servlet.http.HttpServletResponse,int)">writeMessage</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#writeMessage(javax.servlet.http.HttpServletResponse,java.lang.String)">writeMessage</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#writeUser(org.cilogon.oauth2.servlet.storage.user.User,int,javax.servlet.http.HttpServletResponse)">writeUser</a>, <a href="../../oauth2/servlet/servlet/AbstractDBService.html#writeUser(org.cilogon.oauth2.servlet.storage.user.User,org.cilogon.oauth2.servlet.storage.twofactor.TwoFactorInfo,int,javax.servlet.http.HttpServletResponse)">writeUser</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.oa4mp.server.api.storage.servlet.OA4MPServlet">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.oa4mp.server.api.storage.servlet.OA4MPServlet</h3>
<code>checkAdminClientStatus, checkClientApproval, createDebugger, destroy, getAGI, getATI, getClient, getClient, getClient, getFirstParameters, getFirstParameterValue, getGrantIDFromRequest, getServiceEnvironment, getTransaction, getTransactionByGrantID, getTransactionStore, loadProperties2, newTransaction, postprocess, preprocess, realStoreUpdates, say, shutdownCleanup, storeUpdates</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.oa4mp.server.api.storage.servlet.EnvServlet">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.oa4mp.server.api.storage.servlet.EnvServlet</h3>
<code>addNotificationListener, loadEnvironment, processStoreCheck, removeNotificationListener</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.edu.uiuc.ncsa.security.servlet.AbstractServlet">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;edu.uiuc.ncsa.security.servlet.AbstractServlet</h3>
<code>checkContentType, CONST, debug, doGet, doPing, doPost, error, error, getConfigurationLoader, getEnvironment, getExceptionHandler, getInitialization, getMyLogger, getRequestIPAddress, handleException, info, isDebugOn, logOK, logOK, printAllParameters, printAllParameters, resetState, setConfigurationLoader, setDebugOn, setEnvironment, setExceptionHandler, setInitialization, warn</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.javax.servlet.http.HttpServlet">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;javax.servlet.http.HttpServlet</h3>
<code>doDelete, doHead, doOptions, doPut, doTrace, getLastModified, service, service</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.javax.servlet.GenericServlet">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;javax.servlet.GenericServlet</h3>
<code>getInitParameter, getInitParameterNames, getServletConfig, getServletContext, getServletInfo, getServletName, log, log</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="CHECK_USER_CODE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHECK_USER_CODE</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a> CHECK_USER_CODE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.cilogon.proxy.servlet.DBService2.CHECK_USER_CODE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CHECK_USER_CODE_CASE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHECK_USER_CODE_CASE</h4>
<pre>public static final&nbsp;int CHECK_USER_CODE_CASE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.cilogon.proxy.servlet.DBService2.CHECK_USER_CODE_CASE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CHECK_CODE_APPROVED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHECK_CODE_APPROVED</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a> CHECK_CODE_APPROVED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.cilogon.proxy.servlet.DBService2.CHECK_CODE_APPROVED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CHECK_CODE_APPROVED_CASE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHECK_CODE_APPROVED_CASE</h4>
<pre>public static final&nbsp;int CHECK_CODE_APPROVED_CASE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.cilogon.proxy.servlet.DBService2.CHECK_CODE_APPROVED_CASE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="USER_CODE_PARAMETER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>USER_CODE_PARAMETER</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a> USER_CODE_PARAMETER</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.cilogon.proxy.servlet.DBService2.USER_CODE_PARAMETER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="USER_CODE_APPROVED_PARAMETER">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>USER_CODE_APPROVED_PARAMETER</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a> USER_CODE_APPROVED_PARAMETER</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.cilogon.proxy.servlet.DBService2.USER_CODE_APPROVED_PARAMETER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DBService2</h4>
<pre>public&nbsp;DBService2()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="init(javax.servlet.ServletConfig)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;init&#8203;(javax.servlet.ServletConfig&nbsp;config)
          throws javax.servlet.ServletException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>init</code>&nbsp;in interface&nbsp;<code>javax.servlet.Servlet</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>init</code>&nbsp;in class&nbsp;<code>javax.servlet.GenericServlet</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.servlet.ServletException</code></dd>
</dl>
</li>
</ul>
<a id="doAction(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doAction</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;doAction&#8203;(javax.servlet.http.HttpServletRequest&nbsp;request,
                        javax.servlet.http.HttpServletResponse&nbsp;response,
                        <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;action)
                 throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a>,
                        javax.servlet.ServletException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../oauth2/servlet/servlet/AbstractDBService.html#doAction(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.lang.String)">AbstractDBService</a></code></span></div>
<div class="block">Override this to add more actions.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../oauth2/servlet/servlet/AbstractDBService.html#doAction(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse,java.lang.String)">doAction</a></code>&nbsp;in class&nbsp;<code><a href="../../oauth2/servlet/servlet/AbstractDBService.html" title="class in org.cilogon.oauth2.servlet.servlet">AbstractDBService</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
<dd><code>javax.servlet.ServletException</code></dd>
</dl>
</li>
</ul>
<a id="checkUserCode(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkUserCode</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;checkUserCode&#8203;(javax.servlet.http.HttpServletRequest&nbsp;request,
                             javax.servlet.http.HttpServletResponse&nbsp;response)
                      throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Taken from <a href="https://jira.ncsa.illinois.edu/browse/CIL-934">CIL-934</a>
 action: checkUserCode
 param: user_code (required, but can be empty)
 <p>
 Purpose:
 This is an "internal" dbService method used by the PHP web front end to
 (1) verify that a user_code input by the user is valid and
 (2) return the client_id associated with this transaction in order to display client
 information to the end user. The user_code parameter is required, but it can be empty.
 The user_code parameter can contain extra "user-friendly" characters such as
 dash '-', space ' ', underscore '_', etc. These extra characters will be stripped
 out/ignored by the dbService. The user_code can contain lower-case and/or
 upper-case characters which will be transformed to upper-case characters by the dbService.
 Returns: HTTP 200 response, body is basic text, one line per returned value:
 <p>
 status=INTEGER
 0 = Success
 1048569 = missing parameter
 65537 = transaction not found
 65539 = expired user_code (token)
 client_id=The OIDC client_id matching the user_code
 user_code=The original user_code to be displayed to the end user. The purpose of this
 is that the returned user_code should visually match the one that was returned to
 the device so the user can easily verify a match (i.e., ignore any
 transformations done by the user when inputting the user_code).
 scope=A (possibly empty/absent) space-separated list of scopes that were requested by
 the client. This is needed when displaying the list of attributes to be delegated
 since the scopes requested by the device client may differ from those registered.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - </dd>
<dd><code>response</code> - </dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="userCodeApproved(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>userCodeApproved</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;userCodeApproved&#8203;(javax.servlet.http.HttpServletRequest&nbsp;request,
                                javax.servlet.http.HttpServletResponse&nbsp;response)
                         throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">action: userCodeApproved
 param(s):
 <p>
 user_code (required)
 approved (optional; defaults to 1; 1=approved; 0=denied)
 <p>
 Purpose: This is an "internal" dbService method used by the PHP web front end
 to let the dbService know that the user has logged on to their
 chosen Identity Provider and approved the transaction OR
 that the user has clicked a "Cancel" button and denied the transaction.
 If the user has approved the transaction (approved=1 or 'approved'
 is absent, the default), the OA4MP server can proceed with the
 rest of the Device authz grant flow. If the user has denied the
 transaction (approved=0), the OA4MP server should inform the device
 that the user has canceled the transaction.
 Returns: HTTP 200 response, body is basic text, one line per returned value:
 <p>
 status=INTEGER
 0 = Success
 1048569 = missing parameter
 65537 = transaction not found</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="writeClient(org.oa4mp.server.loader.oauth2.storage.clients.OA2Client,int,javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeClient</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;writeClient&#8203;(org.oa4mp.server.loader.oauth2.storage.clients.OA2Client&nbsp;client,
                           int&nbsp;statusCode,
                           javax.servlet.http.HttpServletResponse&nbsp;response)
                    throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="writeTransaction(org.oa4mp.server.loader.oauth2.storage.transactions.OA2ServiceTransaction,int,javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeTransaction</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;writeTransaction&#8203;(org.oa4mp.server.loader.oauth2.storage.transactions.OA2ServiceTransaction&nbsp;oa2ServiceTransaction,
                                int&nbsp;status,
                                javax.servlet.http.HttpServletResponse&nbsp;response)
                         throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="writeTransaction(org.oa4mp.server.loader.oauth2.storage.transactions.OA2ServiceTransaction,org.cilogon.oauth2.servlet.impl.Err,javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeTransaction</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;writeTransaction&#8203;(org.oa4mp.server.loader.oauth2.storage.transactions.OA2ServiceTransaction&nbsp;oa2ServiceTransaction,
                                <a href="../../oauth2/servlet/impl/Err.html" title="class in org.cilogon.oauth2.servlet.impl">Err</a>&nbsp;errResponse,
                                javax.servlet.http.HttpServletResponse&nbsp;response)
                         throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="doError(java.lang.String,int,javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doError</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;doError&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;message,
                       int&nbsp;errorCode,
                       javax.servlet.http.HttpServletResponse&nbsp;resp)
                throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="createTransaction(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTransaction</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;createTransaction&#8203;(javax.servlet.http.HttpServletRequest&nbsp;req,
                                 javax.servlet.http.HttpServletResponse&nbsp;resp)
                          throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">This accepts the following parameters
 <pre>
 client_id
 scopes
 state
 code_challenge          (RFC 7636)
 code_challenge_method      "   "
 </pre>
 and the response</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>req</code> - </dd>
<dd><code>resp</code> - </dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="writeMessage(javax.servlet.http.HttpServletResponse,org.cilogon.oauth2.servlet.impl.Err)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeMessage</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;writeMessage&#8203;(javax.servlet.http.HttpServletResponse&nbsp;response,
                            <a href="../../oauth2/servlet/impl/Err.html" title="class in org.cilogon.oauth2.servlet.impl">Err</a>&nbsp;errResponse)
                     throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="setTransactionState(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTransactionState</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;setTransactionState&#8203;(javax.servlet.http.HttpServletRequest&nbsp;req,
                                   javax.servlet.http.HttpServletResponse&nbsp;resp)
                            throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="doUserClaims(org.cilogon.oauth2.servlet.loader.CILogonOA2ServiceEnvironment,org.cilogon.oauth2.servlet.storage.transaction.CILOA2ServiceTransaction,javax.servlet.http.HttpServletRequest,edu.uiuc.ncsa.security.core.util.MetaDebugUtil)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doUserClaims</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;doUserClaims&#8203;(<a href="../../oauth2/servlet/loader/CILogonOA2ServiceEnvironment.html" title="class in org.cilogon.oauth2.servlet.loader">CILogonOA2ServiceEnvironment</a>&nbsp;env,
                            <a href="../../oauth2/servlet/storage/transaction/CILOA2ServiceTransaction.html" title="class in org.cilogon.oauth2.servlet.storage.transaction">CILOA2ServiceTransaction</a>&nbsp;t,
                            javax.servlet.http.HttpServletRequest&nbsp;request,
                            edu.uiuc.ncsa.security.core.util.MetaDebugUtil&nbsp;debugger)
                     throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a></pre>
<div class="block">Runs the user claims to populate the transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>env</code> - </dd>
<dd><code>t</code> - </dd>
<dd><code>request</code> - </dd>
<dd><code>debugger</code> - </dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang" class="externalLink">Throwable</a></code></dd>
</dl>
</li>
</ul>
<a id="getClient(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClient</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;getClient&#8203;(javax.servlet.http.HttpServletRequest&nbsp;req,
                         javax.servlet.http.HttpServletResponse&nbsp;resp)
                  throws <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="lookupCase(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>lookupCase</h4>
<pre class="methodSignature">protected&nbsp;int&nbsp;lookupCase&#8203;(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;x)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../oauth2/servlet/servlet/AbstractDBService.html#lookupCase(java.lang.String)">lookupCase</a></code>&nbsp;in class&nbsp;<code><a href="../../oauth2/servlet/servlet/AbstractDBService.html" title="class in org.cilogon.oauth2.servlet.servlet">AbstractDBService</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DBService2.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2025. All rights reserved.</small></p>
</footer>
</body>
</html>
